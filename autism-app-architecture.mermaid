%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#ff0000', 'secondaryColor': '#00ff00', 'tertiaryColor': '#0000ff', 'primaryTextColor': '#ffffff', 'secondaryTextColor': '#000000', 'lineColor': '#000000', 'fontSize': '16px'}}}%%
graph TB
    subgraph "Client Layer"
        A[React.js SPA]
        B[TailwindCSS]
        C[TensorFlow.js]
        D[WebRTC]
        E[Socket.io Client]
    end

    subgraph "API Gateway"
        F[Amazon API Gateway]
    end

    subgraph "Application Layer"
        G[Node.js + Express.js]
        H[WebSocket Server]
        I[RESTful APIs]
    end

    subgraph "Authentication Layer"
        J[Auth0]
        K[JWT]
    end

    subgraph "AI/ML Services"
        L[TensorFlow]
        M[Hugging Face Transformers]
        N[AWS Lambda]
    end

    subgraph "Data Layer"
        O[MongoDB Atlas]
        P[Amazon S3]
        Q[Midnight Blockchain]
    end

    subgraph "Cloud Infrastructure"
        R[AWS EC2]
        S[AWS Lambda]
        T[Amazon CloudFront]
        U[Amazon Route 53]
    end

    A --> F
    F --> G
    G --> H
    G --> I
    A --> J
    J --> K
    G --> L
    G --> M
    G --> N
    G --> O
    G --> P
    G --> Q
    R --> G
    S --> N
    T --> A
    U --> T

    classDef default fill:#ffffff,stroke:#000000,stroke-width:2px;
    classDef clientLayer fill:#ff0000,color:#ffffff;
    classDef apiGateway fill:#00ff00,color:#000000;
    classDef appLayer fill:#0000ff,color:#ffffff;
    classDef authLayer fill:#ff00ff,color:#000000;
    classDef aiLayer fill:#00ffff,color:#000000;
    classDef dataLayer fill:#ffff00,color:#000000;
    classDef cloudLayer fill:#ff8000,color:#000000;

    class A,B,C,D,E clientLayer;
    class F apiGateway;
    class G,H,I appLayer;
    class J,K authLayer;
    class L,M,N aiLayer;
    class O,P,Q dataLayer;
    class R,S,T,U cloudLayer;
